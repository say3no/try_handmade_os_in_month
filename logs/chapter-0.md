# 開発を始める前に

コンソールしかない、非マルチタスク *じゃない* OSを30日でつくるぞ！オー。容量は80kbくらい。CPU作成の入門書はあるけどOS作成の入門書はない。Windowsとかファイルサイズめっちゃあるし大変そう？なんとかなるって。

OSを作る過程で見えなかったものがいっぱい見えてくる。

OSって何？ [「『あなたがそうだと思うものがOSです。ただし、他人の同意を得られるとは限りません。』](https://dic.nicovideo.jp/a/ライトノベル)

この本では「OSっぽく見えるデモ」を作る、そういう方針でいく。

> そして不思議なことに、このデモを作り込んでいると、なんだかそのうちこれがデモではなくてOSになってくるのです。

カーネルやら、シェルやら、モノリシックやらマイクロカーネルだとか、そういう専門用語は一旦忘れてやっていこう。

> 逆にしらないことはいことでもあります。何も知らないので、専門家が鼻で笑っちゃうような、すごくバカらしいことでも本気でやることになります。

:iihanashi:

この本はWindowsを開発環境としていて、isoをフロッピーに焼いて実行していくことになっているけれど、どちらも用意するのが面倒。なんでもいいからBootLoaderが選択できればいい（そりゃそうだ）らしく [30日でOS自作入門挑戦記(Linux) Day1 - Qiita](https://qiita.com/strv13570/items/c20e6b1c7cb68e7ee018)とか[「30日でできる！ OS自作入門」をMac向けに環境構築する - Qiita](https://qiita.com/tatsumack/items/491e47c1a7f0d48fc762)とか先人がMac OSXでのやっていきログがあるのでこの辺をよめばなんとかなるっぽい

> ODを作るためにWindowsという別のODを利用しています。

ちょっといいOSを書いて、そのOSを使ってちょっといいOSを書いて…というのをやってきたのかもしれない、だとすると胸熱だよね。

一番制限なく作れるのはアセンブラ。でもつらすぎる。入門書だし、今回はアプリ開発用のCコンパイラを使うゾイ。

ちなみに、`printf("hello\n")` がすでにできないらしい。なぜかというと`printf`はOSが提供してくれている機能を前提につくられているからだとか。(`一般保護例外`なるものを起こしてしまうらしい)
C言語でカバーできないところはアセンブラを書くらしい。:ryoukai:

つまったらサポートページを見ろ。

ポインタのことが「わかったつもり」から「わかった」になるぞ。

ちなみに最初はアセンブラ書くことになるから覚悟しとけ。現場からは以上です。
